<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Chatbot â€” LoanAI</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#0ea5ff",
            electric: "#38bdf8",
            accent: "#0f172a",
          },
          boxShadow: {
            neon: "0 8px 40px rgba(14,165,255,0.25), 0 4px 14px rgba(56,189,248,0.12)",
          },
        },
      },
    };
  </script>

  <style>
    body {
      font-family: Inter, ui-sans-serif, system-ui;
      background: radial-gradient(circle at 20% 20%, rgba(14,165,255,0.15), transparent 40%),
                  radial-gradient(circle at 80% 80%, rgba(124,58,237,0.15), transparent 40%),
                  #000;
    }

    /* Floating glowing chat window */
    @keyframes floatGlow {
      0%, 100% { transform: translateY(0); box-shadow: 0 0 20px rgba(14,165,255,0.25); }
      50% { transform: translateY(-6px); box-shadow: 0 0 35px rgba(124,58,237,0.35); }
    }

    .chat-window-float {
      animation: floatGlow 4s ease-in-out infinite;
    }

    /* Glass morphism bubble */
    .glass {
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      backdrop-filter: blur(12px);
    }

    /* Message pop animation */
    @keyframes floatUp {
      from {opacity:0; transform:translateY(20px);}
      to {opacity:1; transform:translateY(0);}
    }
    .animate-floatUp {
      animation: floatUp .75s ease-out both;
    }

    /* Upload button hover effect */
    .upload-btn:hover svg {
      filter: drop-shadow(0 0 6px #0ea5ff);
    }
  </style>
</head>

<body class="text-gray-200 h-screen flex flex-col">

  <!-- Header -->
  <header class="bg-black/70 backdrop-blur-md border-b border-gray-800 p-4 flex items-center justify-between shadow-neon chat-window-float">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-primary to-electric flex items-center justify-center shadow-neon">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-black" fill="currentColor">
          <path d="M12 2L3 7v6c0 5 3.5 9.7 9 11 5.5-1.3 9-6 9-11V7l-9-5z"/>
        </svg>
      </div>
      <h1 class="text-xl font-bold">LoanAI Assistant</h1>
    </div>

    <a href="index.html" class="text-primary text-sm hover:underline">Back to Home</a>
  </header>

  <!-- Chat Window -->
  <div id="chatWindow"
       class="flex-1 overflow-y-auto p-6 space-y-4 animate-floatUp chat-window-float
              border-x border-gray-800 bg-black/40 backdrop-blur-xl">

    <!-- AI Welcome Message -->
    <div class="flex items-start gap-3 animate-floatUp">
      <div class="w-10 h-10 rounded-full bg-primary text-black flex items-center justify-center font-bold shadow-neon">
        AI
      </div>
      <div class="max-w-xl p-4 rounded-xl glass border border-blue-800/40 shadow-neon">
        <p class="text-gray-300">
          Hello! ðŸ‘‹ Iâ€™m your LoanAI assistant.<br>
          I can help with eligibility, EMI calculation, KYC upload, loan offers, and more.
        </p>
      </div>
    </div>

  </div>

  <!-- Input Bar -->
  <div class="p-4 border-t border-gray-800 bg-black/60 backdrop-blur-md">
    <form id="chatForm" class="flex items-center gap-3 max-w-4xl mx-auto">

      <label class="cursor-pointer upload-btn">
        <input type="file" id="fileUpload" class="hidden">
        <div class="p-3 rounded-xl border border-gray-700 hover:bg-white/5 transition flex items-center justify-center">
          <!-- New Clear Upload Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-primary"
               fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" 
                  d="M12 16V4m0 0l-4 4m4-4l4 4M6 20h12" />
          </svg>
        </div>
      </label>
      

      <!-- Text Input -->
      <input id="chatInput"
             type="text"
             placeholder="Ask something or upload a file..."
             class="flex-1 p-3 rounded-xl bg-transparent border border-gray-700 
                    focus:ring-2 focus:ring-primary outline-none text-gray-200" />

      <!-- Send Button -->
      <button
        class="px-5 py-3 bg-primary text-black rounded-xl font-semibold shadow-neon hover:brightness-110 transition">
        Send
      </button>
    </form>
  </div>

  <script>
    const form = document.getElementById("chatForm");
    const input = document.getElementById("chatInput");
    const chatWindow = document.getElementById("chatWindow");
    const fileUpload = document.getElementById("fileUpload");

    /* Handle Sending Text Message */
    form.addEventListener("submit", function(e){
      e.preventDefault();
      const text = input.value.trim();
      if(!text) return;

      addMessage(text, "user");
      input.value = "";

      setTimeout(() => {
        addMessage("This is a mock AI reply. Connect to backend for actual responses.", "ai");
      }, 700);
    });

    /* Handle File Upload */
    fileUpload.addEventListener("change", function(){
      if(this.files.length > 0){
        const fileName = this.files[0].name;
        addMessage(`Uploaded File: ${fileName}`, "user");

        setTimeout(() => {
          addMessage("File received! I can process this once backend is connected.", "ai");
        }, 700);
      }
    });

    /* Chat Message Renderer */
    function addMessage(message, sender){
      const bubble = document.createElement("div");
      bubble.className = "flex items-start gap-3 animate-floatUp";

      if(sender === "user"){
        bubble.innerHTML = `
          <div class='flex-1 text-right'>
            <div class="inline-block max-w-xl p-3 rounded-xl bg-primary text-black font-medium shadow-neon">
              ${message}
            </div>
          </div>
          <div class="w-10"></div>
        `;
      } 
      else {
        bubble.innerHTML = `
          <div class="w-10 h-10 rounded-full bg-primary text-black flex items-center justify-center font-bold shadow-neon">
            AI
          </div>
          <div class="max-w-xl p-3 rounded-xl glass border border-blue-800/40 text-gray-300 shadow-neon">
            ${message}
          </div>
        `;
      }

      chatWindow.appendChild(bubble);
      chatWindow.scrollTop = chatWindow.scrollHeight;
    }
  </script>

</body>
</html>
